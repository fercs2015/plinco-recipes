{% load staticfiles %}
{% load widget_tweaks %}

<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="description" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Receta {% if receta.pk %} {{ receta.pk }} {% endif %}</title>
	
	<script src="{% static 'recetario/js/vendor/jquery-1.11.2.min.js' %}" type="text/javascript"></script>
	<link href="{% static 'recetario/css/select2/select2.min.css' %}" rel="stylesheet"/>
	<script src="{% static 'recetario/js/select2/select2.min.js' %}"></script>	
	<script src="{% static 'plquery/js/vendor/modernizr-2.8.3.min.js' %}"></script>
	
	<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css" rel="stylesheet" type="text/css">
	<script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
</head>

<body>
	<br>
	<div class="container">
		<div class="row">
			<div class="col-md-6">
				<form role="form" action="" method="post">
					{% csrf_token %}
					<div class="form-group">
						<label for="id_nombre">Nombre: </label>
						{{ form.nombre | add_class:"form-control" }}
					</div>
					<div class="form-group">
						<label for="id_categoria">Categoria: </label>
						{{ form.categoria | add_class:"form-control js-example-basic-single" }}
					</div>
					<div class="form-group">
						<label for="id_ingredientes">¿Qué Ingredientes lleva...?</label>
						{{ form.ingredientes | add_class:"form-control js-example-basic-multiple js-example-tokenizer" }}
						<span class="glyphicon glyphicon-plus"></span>
					</div>
					<div class="form-group">
						<label for="id_preparacion">Preparacion: </label>
						{{ form.preparacion | add_class:"form-control" }}
					</div>
					<button type="submit">Agregar</button>
				</form>
			</div>
			<div id="lista-ingredientes-cantidades" class="col-md-6">
				<div class="table-responsive">
					<table class="table table-hover table-striped">
						<thead>
							<tr>
								<th>#</th>
								<th>Ingrediente</th>
								<th>Cantidad</th>
								<th></th>
							</tr>
						</thead>
						<tbody>
							<tr>
								{% for detallereceta in form}
								<td>1</td>
								<td>{{ form. }}</td>
								<td></td>
								<td></td>
							</tr>
						</tbody>
					</table>
			</div>
		</div>
	</div>
</body>
</html>

<script>window.jQuery || document.write('<script src="{% static 'recetario/js/vendor/jquery-1.11.2.min.js' %}"><\/script>')</script>
<script src="{% static 'plquery/js/vendor/bootstrap.min.js' %}"></script>
<script src="{% static 'plquery/js/main.js' %}"></script>
<script type="text/javascript">
	$(document).ready(function() {
		$("#id_ingredientes").select2({
			placeholder: 'Elegir ingredientes',
			allowClear: true,
			language: "es",
			minimumResultsForSearch: 8
			});
	});
	
	$(document).ready(function() {
		$('#id_ingredientes').on('change', actualizar);
		
		function actualizar() {
			var ingredientes = $(this).val();
			$('#lista-ingredientes-cantidades').find('tbody tr').add("td");
		}
		
	});
</script>